<!DOCTYPE html>
<html ng-app = "doorbellApp">
  <head>
    <title>The Door's Bell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular.min.js"></script>
    <script src = "index.js"></script>
    <link rel = "stylesheet" href = "style.css" />
  </head>
  <body ng-controller = "doorbell">
    <div class="corner-icons">
      <div class="mute-button" ng-click = "toggleMute()" ng-show = "muted"></div>
      <div class="unmute-button" ng-click = "toggleMute()" ng-hide = "muted"></div>

      <div class="day-button" ng-click = "toggleAfterHours()" ng-show = "afterHoursOnly">After Hours</div>
      <div class="day-button" ng-click = "toggleAfterHours()" ng-hide = "afterHoursOnly">All Hours</div>
    </div>
    <h1>Ding dong.</h1>
    <p class="instructions">Enter your name and a way to reach you, then ring the bell.</p>

    <!-- name = "email" is to help with autofill -->
    <input ng-model = "name" type = "text" name = "Firstname" placeholder = "Name"></input>
    <input ng-model = "contact" ng-enter = "ring()" type = "text" name = "email" placeholder = "Email or Phone Number"></input>

    <div class = "icon" ng-click = "ring()" ng-hide = "!state || state.hasRung">
      <img src = "icons/bell.png">
      Ring Doorbell
    </div>
    <div class = "icon" ng-click = "unring()" ng-show = "state && state.hasRung && !state.inside">
      <img src = "icons/close.png">
      Got Inside
    </div>
    <div class = "icon" ng-click = "leave()" ng-show = "state && state.hasRung">
      <img src = "icons/exit.png" ></img>
      Farewell
    </div>

    <p>{{message}}</p>
    <h3 class = "whos-here-heading">Who's Here:</h3>
    <ul>
      <li ng-repeat = "(contact, name) in userList" ng-click = "messageUser(contact)">{{name}}</li>
    </ul>
  </body>
</html>
